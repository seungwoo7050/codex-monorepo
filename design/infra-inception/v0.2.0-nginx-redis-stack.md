# infra-inception v0.2.0 – Nginx 역방향 프록시와 Redis 캐시

## 목표
- 애플리케이션 앞단에 Nginx 역방향 프록시를 배치한다.
- Redis 캐시/세션 저장소를 추가하여 백엔드 구성을 확장한다.

## 범위
- `nginx` 서비스: 8080 포트에서 정적 파일과 `/` 경로 프록시 제공.
- `redis` 서비스: 6379 포트 노출, `redis_data` 볼륨으로 데이터 유지.
- `app` 서비스: Redis 연결 상태를 헬스 응답에 포함하고, Nginx에서 프록시된다.

## 구현 메모
- `docker-compose.yml`에 `nginx`, `redis` 서비스를 추가하고 `app`은 두 서비스를 의존하도록 갱신.
- Nginx 설정(`services/nginx/nginx.conf`)에서 `/static/`은 로컬 파일, 나머지는 `app:8085`로 프록시.
- 앱 컨테이너는 `redis` Python 클라이언트를 설치해 `ping` 상태를 본문에 노출한다.
- Redis 데이터는 `redis_data` 이름의 볼륨으로 분리해 재시작 시 유지한다.

## 테스트
- `tests/compose_lint.sh`: app/db/nginx/redis 서비스 정의, Nginx 설정 파일, 정적 디렉터리, DB 초기화 스크립트 존재 여부 확인.

## 후속 과제
- Nginx 로깅 포맷 및 gzip/타임아웃 최적화는 v0.3.0에서 진행한다.
- Redis를 활용한 실제 캐시 키 예제는 후속 버전에서 다룬다.
