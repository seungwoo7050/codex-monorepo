# webserv-cpp17 v0.2.0 – 다중 연결 이벤트 루프

## 목표
- select 기반 이벤트 루프로 여러 클라이언트 요청을 동시에 처리한다.
- 비정상/유휴 연결을 일정 시간 후 종료하는 타임아웃을 제공한다.

## 범위
- 리슨 소켓과 클라이언트 소켓을 논블로킹으로 설정하고 select로 감시한다.
- 요청 데이터를 수신하면 즉시 고정 응답(HTTP/1.1 200, "Hello from webserv v0.2.0")을 반환한다.
- 각 연결은 1.5초 동안 활동이 없으면 타임아웃 처리 후 종료하고 처리 카운트에 포함한다.
- 실행 인자: `<port> [max_requests]`로 최대 처리 요청 수를 제어한다.

## 구현 메모
- `Connection` 구조체로 FD와 최근 활동 시각을 추적한다.
- `handleConnections`에서 수락/수신/타임아웃을 모두 처리하고, `max_requests` 도달 시 루프를 종료한다.
- 전체 루프는 10초를 초과하면 안전하게 종료하여 테스트 중 무한 대기를 방지한다.

## 테스트
- `tests/test_webserv.sh`: `max_requests=1`로 단일 요청 응답과 종료 확인.
- `tests/test_webserv_multi.sh`: 두 개의 병렬 요청 응답 확인 및 추가 유휴 연결 타임아웃 후 종료 확인.

## 후속 과제
- HTTP 요청 파싱과 상태 코드/헤더 처리 고도화는 v0.3.0에서 진행한다.
- keep-alive 등 HTTP/1.1 세부 동작은 이후 버전에서 다룬다.
